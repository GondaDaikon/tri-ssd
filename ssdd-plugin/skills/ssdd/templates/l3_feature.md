---
id: F-YYYYMMDD-nnn
kind: feature
layer: L3
status: active
doc_status: draft
req_ids:
  - REQ-YYYYMMDD-nnn
nfr_ids:
  - NF-YYYYMMDD-nnn
phase: PH-YYYYMMDD-nnn
---
<!-- 注: 実際の使用時は /gen-l3 がIDを自動採番します -->

<!--
  テンプレート使用ガイド:

  【必須セクション】
  - 1. 概要
  - 3. インターフェース（該当する種別のみ）
  - 5.2 受け入れ条件（3〜5個程度）
  - 6. タスクチェックリスト

  【省略可能セクション】
  - 2. データモデル（新規エンティティがある場合のみ）
  - 2.3 状態遷移（ワークフロー等がある場合のみ）
  - 3.3 CLI（CLIがない場合は削除）
  - 3.4 シーケンス（複雑な連携がある場合のみ）
  - 4.2 権限・ロール（認可がない場合は削除）
  - 7. 実装メモ（初期は空でよい）

  【原則】
  - 機能の複雑さに応じた詳細度で書く
  - 単純なCRUDに10個以上の受け入れ条件は過剰
  - 不要なセクションは削除してよい
-->

# [機能名]

## 1. 概要

### 1.1 この機能でできること

[この機能でユーザーが何をできるようになるか、1〜3文で説明]

### 1.2 代表的なユースケース

**ユースケース1**: [シナリオ名]
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

**ユースケース2**: [シナリオ名]
1. [ステップ1]
2. [ステップ2]
3. [ステップ3]

### 1.3 技術基盤との整合性

> **参照**: `foundation.md` の技術スタック、`rules.md` の実装ルールを確認すること

| 参照元 | 関連セクション | 備考 |
|--------|---------------|------|
| foundation.md | [技術スタック/アーキテクチャ] | [この機能で使用する技術] |
| rules.md | [該当ルール] | [適用する実装ルール] |

---

## 2. データモデル

### 2.1 この機能で扱うエンティティ

| エンティティ | 説明 | 主要属性 |
|-------------|------|---------|
| [エンティティ1] | [説明] | id, name, ... |
| [エンティティ2] | [説明] | id, ... |

### 2.2 データ構造（必要に応じて）

```typescript
// 例: TypeScript での型定義
interface [EntityName] {
  id: string;
  // ...
}
```

### 2.3 状態遷移（該当する場合）

```
[状態A] --[イベント1]--> [状態B] --[イベント2]--> [状態C]
                              |
                              +--[イベント3]--> [状態D]
```

| 状態 | 説明 | 遷移可能な状態 |
|------|------|---------------|
| [状態A] | [初期状態の説明] | 状態B |
| [状態B] | [説明] | 状態C, 状態D |

---

## 3. インターフェース

### 3.1 画面構成（UI の場合）

```
┌─────────────────────────────────────┐
│  [ヘッダー]                          │
├─────────────────────────────────────┤
│                                     │
│  [コンポーネント名]                   │
│  ・[要素1]                           │
│  ・[要素2]                           │
│  ・[ボタン: アクション名]             │
│                                     │
└─────────────────────────────────────┘
```

### 3.2 API エンドポイント（API の場合）

**エンドポイント**: `[HTTP Method] /path/to/endpoint`

**リクエスト**:
```json
{
  "field1": "value1",
  "field2": "value2"
}
```

**レスポンス（成功時）**:
```json
{
  "status": "success",
  "data": {}
}
```

**レスポンス（エラー時）**:
```json
{
  "status": "error",
  "code": "ERROR_CODE",
  "message": "エラーメッセージ"
}
```

### 3.3 CLI インターフェース（CLI の場合）

```bash
# コマンド形式
command [options] <arguments>

# 使用例
command --option value argument
```

| オプション | 短縮形 | 説明 | デフォルト |
|-----------|-------|------|-----------|
| --option | -o | [説明] | [デフォルト値] |

**終了コード**:
| コード | 意味 |
|-------|------|
| 0 | 正常終了 |
| 1 | 一般エラー |
| 2 | 引数エラー |

### 3.4 シーケンス（必要に応じて）

```
User -> UI: [アクション]
UI -> API: [リクエスト]
API -> DB: [クエリ]
DB --> API: [結果]
API --> UI: [レスポンス]
UI --> User: [表示]
```

---

## 4. 業務ルール・例外

### 4.1 バリデーションルール

| 項目 | ルール | エラーメッセージ |
|------|--------|-----------------|
| [項目名1] | [ルール：例）必須、最大100文字] | [エラーメッセージ] |
| [項目名2] | [ルール] | [エラーメッセージ] |

### 4.2 権限・ロールによる振る舞い

| ロール | 許可される操作 | 制限事項 |
|--------|---------------|---------|
| [ロール1] | [操作] | [制限] |
| [ロール2] | [操作] | [制限] |

### 4.3 例外的なケース

| ケース | 動作 | エラーコード |
|--------|------|-------------|
| [例外ケース1] | [動作説明] | [E001 等] |
| [例外ケース2] | [動作説明] | [E002 等] |

---

## 5. 非機能・受け入れ条件

### 5.1 非機能要求の具体化

| NF ID | 要求 | この機能での具体化 |
|-------|------|-------------------|
| NF-YYYYMMDD-nnn | [要求名] | [この機能でどう満たすか] |

### 5.2 受け入れ条件

#### AC-1: [条件名]

```gherkin
Given [前提条件]
When [操作・アクション]
Then [期待される結果]
```

#### AC-2: [条件名]

```gherkin
Given [前提条件]
When [操作・アクション]
Then [期待される結果]
```

#### AC-3: [条件名]

```gherkin
Given [前提条件]
When [操作・アクション]
Then [期待される結果]
```

---

## 6. タスクチェックリスト

### 6.1 実装タスク

- [ ] [タスク1：例）コンポーネント作成]
- [ ] [タスク2：例）API エンドポイント実装]
- [ ] [タスク3：例）バリデーション実装]
- [ ] [タスク4：例）エラーハンドリング実装]

### 6.2 テストタスク

- [ ] [ユニットテスト：対象コンポーネント/関数]
- [ ] [結合テスト：対象フロー]
- [ ] [E2Eテスト：対象シナリオ]

---

## 7. 実装メモ・注意点

### 7.1 適用した設計パターン

- [パターン名]：[適用理由・概要]

### 7.2 関連コードへのリンク

| 種別 | パス |
|------|------|
| メインコード | `src/features/[feature-name]/` |
| テストコード | `tests/features/[feature-name]/` |
| コンポーネント | `src/components/[component-name].tsx` |

### 7.3 技術的負債・暫定対応

- [ ] [負債1：何が暫定で、どう直すべきか]
- [ ] [負債2]

### 7.4 注意点・申し送り事項

- [注意点1]
- [注意点2]
