---
id: PH-YYYYMMDD-nnn
kind: phase
layer: L2
status: active
doc_status: draft
---
<!-- 注: 実際の使用時は /gen-phases がIDを自動採番します -->
<!-- 前提: foundation.md が確定（reviewed）していること -->

<!--
  テンプレート使用ガイド:

  【フェーズ数の目安】
  - 小規模（機能5個以下）: 1〜2フェーズ
  - 中規模（機能6〜15個）: 2〜4フェーズ
  - 大規模（機能16個以上）: 4〜6フェーズ
  - 10フェーズ以上は過剰な兆候

  【必須要素】
  - フェーズごとの目的
  - 完了条件（Exit Criteria）
  - 対象機能一覧

  【省略可能要素】
  - フェーズ間の依存関係図（シンプルなら省略可）
  - フェーズ境界テスト（小規模なら省略可）
  - リスク・前提条件（明らかなら省略可）
  - 検証フェーズ（POC）（不確実性が低い場合は不要）

  【原則】
  - 実装順序の管理が主目的、過度に詳細化しない
  - 機能一覧の記載順＝実装順
  - 不要なフェーズを作らない（「管理しやすい」だけの細分化は避ける）
-->

# [プロダクト名] フェーズ定義

## 概要

本ドキュメントでは、開発フェーズ（PH-YYYYMMDD-nnn）の定義と、各フェーズに含まれる機能一覧を記載する。

**前提**: `foundation.md` の技術スタックが確定していること。

**重要**: 各フェーズ内の機能一覧の記載順序＝実装順序とみなす。

> **注**: 以下の各フェーズセクション内の YAML ブロックは、各フェーズのメタデータを示す記載例です。
> 実際のファイル構造では、ファイル全体で1つのフロントマター（このファイルの先頭）を持ちます。

---

## フェーズ間の依存関係

```
PH-ENV (環境構築)
    │
    ▼
PH-001 (基盤フェーズ)
    │
    ├──▶ PH-002 (機能拡張A)
    │        │
    │        ▼
    │    PH-003 (応用機能)
    │
    └──▶ PH-POC (検証フェーズ) ──▶ 結果をPH-002以降に反映
```

---

## 機能一覧（全体俯瞰用）

> **注**: 「依存」列は参考情報です。依存関係はフロントマターでは管理されていません。
> 実装順序は各フェーズ内の機能一覧の記載順で管理します。

| 機能ID | 機能名 | 対応REQ | フェーズ | 依存 | 優先度 | ステータス |
|--------|--------|---------|---------|------|--------|-----------|
| F-YYYYMMDD-001 | [機能名] | REQ-YYYYMMDD-001 | PH-YYYYMMDD-ENV | - | Must | 未着手 |
| F-YYYYMMDD-002 | [機能名] | REQ-YYYYMMDD-001 | PH-YYYYMMDD-001 | F-001 | Must | 未着手 |
| F-YYYYMMDD-003 | [機能名] | REQ-YYYYMMDD-001, REQ-YYYYMMDD-002 | PH-YYYYMMDD-001 | F-002 | Should | 未着手 |
| F-YYYYMMDD-010 | [機能名] | REQ-YYYYMMDD-002 | PH-YYYYMMDD-002 | F-001, F-002 | Could | 未着手 |

### 優先度の定義

| 優先度 | 説明 |
|--------|------|
| **Must** | 必須。このフェーズの Exit Criteria に必要 |
| **Should** | 強く推奨。可能な限り実装 |
| **Could** | あれば良い。余裕があれば実装 |

---

## PH-YYYYMMDD-ENV: 環境構築

```yaml
# フェーズのメタデータ（参考）
id: PH-YYYYMMDD-ENV
kind: phase
status: active
related_nfr_ids:
  - NF-YYYYMMDD-001
```

### 目的

**開発者視点**:
- 開発環境が整い、最初の機能開発に着手できる状態にする

**アーキテクチャ視点**:
- foundation.md で定義した技術スタックの実環境を構築
- CI/CD パイプラインの基盤を整備

### 完了条件（Exit Criteria）

- [ ] リポジトリ初期化完了（package.json, tsconfig.json 等）
- [ ] 開発サーバーが起動し、Hello World相当が動作
- [ ] リンター・フォーマッターが動作（ESLint, Prettier 等）
- [ ] CI/CDパイプラインでビルド・テストが自動実行される
- [ ] README.md に環境構築手順が記載されている

### リスク・前提条件

| 項目 | 内容 | 対策 |
|------|------|------|
| [リスク1] | [例：外部サービスの認証情報取得に時間がかかる] | [対策] |
| [前提条件1] | [例：チームメンバー全員が Node.js をインストール済み] | - |

### 対象タスク一覧（記載順＝実施順）

#### 1. プロジェクト初期化
- **ID**: ENV-001
- **作業内容**: リポジトリ作成、パッケージマネージャ設定

#### 2. 開発環境設定
- **ID**: ENV-002
- **作業内容**: リンター、フォーマッター、エディタ設定

#### 3. CI/CD設定
- **ID**: ENV-003
- **作業内容**: GitHub Actions ワークフロー設定

#### 4. 最小動作確認
- **ID**: ENV-004
- **作業内容**: アプリケーションの骨格作成、起動確認

---

## PH-YYYYMMDD-001: [フェーズ名]

```yaml
# フェーズのメタデータ（参考）
id: PH-YYYYMMDD-001
kind: phase
status: active
related_nfr_ids:
  - NF-YYYYMMDD-001
  - NF-YYYYMMDD-003
```

### 目的

**ユーザー視点**:
- [本フェーズ完了時にユーザーが何をできるようになるか]

**アーキテクチャ視点**:
- [どこまで固めたいか、どのような基盤が整うか]

### 完了条件（Exit Criteria）

- [ ] [条件1：例）ユーザー登録・ログインが動作する]
- [ ] [条件2：例）基本的なCRUD操作が可能]
- [ ] [条件3：例）主要な画面遷移が完成]
- [ ] [条件4：例）テストカバレッジ80%以上]

### フェーズ境界テスト

| テスト種別 | 概要 | 対象機能 |
|-----------|------|---------|
| 結合テスト | [テスト概要] | F-001, F-002 |
| E2Eテスト | [テスト概要] | 主要フロー |

### リスク・前提条件

| 項目 | 内容 | 対策 |
|------|------|------|
| [リスク1] | [リスク内容] | [対策] |
| [前提条件1] | [前提条件] | - |

### 対象機能一覧（記載順＝実装順）

#### 1. [機能名]
- **機能ID**: F-YYYYMMDD-001
- **優先度**: Must
- **対応REQ**: REQ-YYYYMMDD-001

[概要]

#### 2. [機能名]
- **機能ID**: F-YYYYMMDD-002
- **優先度**: Must
- **対応REQ**: REQ-YYYYMMDD-001

[概要]

#### 3. [機能名]
- **機能ID**: F-YYYYMMDD-003
- **優先度**: Should
- **対応REQ**: REQ-YYYYMMDD-002

[概要]

---

## PH-YYYYMMDD-002: [フェーズ名]

```yaml
id: PH-YYYYMMDD-002
kind: phase
status: active
related_nfr_ids:
  - NF-YYYYMMDD-001
  - NF-YYYYMMDD-002
```

### 目的

**ユーザー視点**:
- [本フェーズ完了時にユーザーが何をできるようになるか]

**アーキテクチャ視点**:
- [どこまで固めたいか]

### 完了条件（Exit Criteria）

- [ ] [条件1]
- [ ] [条件2]

### フェーズ境界テスト

| テスト種別 | 概要 | 対象機能 |
|-----------|------|---------|
| 結合テスト | [テスト概要] | F-010, F-011 |
| E2Eテスト | [テスト概要] | 拡張フロー |

### リスク・前提条件

| 項目 | 内容 | 対策 |
|------|------|------|
| [リスク1] | [リスク内容] | [対策] |

### 対象機能一覧（記載順＝実装順）

#### 1. [機能名]
- **機能ID**: F-YYYYMMDD-010
- **優先度**: Must
- **対応REQ**: REQ-YYYYMMDD-002

[概要]

#### 2. [機能名]
- **機能ID**: F-YYYYMMDD-011
- **優先度**: Should
- **対応REQ**: REQ-YYYYMMDD-002

[概要]

#### 3. [機能名]
- **機能ID**: F-YYYYMMDD-012
- **優先度**: Could
- **対応REQ**: REQ-YYYYMMDD-003

[概要]

---

## PH-POC-YYYYMMDD-001: [検証フェーズ名]（検証フェーズ）

```yaml
id: PH-POC-YYYYMMDD-001
kind: phase
status: active
related_nfr_ids:
  - NF-YYYYMMDD-004
```

### 目的

技術的・非機能的な不確実性が高い領域の検証を行う。

**検証対象**:
- [検証したい技術・アプローチ]

**検証観点**:
- [何を確認したいか]

### 完了条件（Exit Criteria）

- [ ] OK/NG の結論が出ている
- [ ] 結論を foundation.md または phases.md に反映済み
- [ ] 採用/不採用の理由が記録されている

### 検証結果の反映先

| 結論 | 反映先 | 反映内容 |
|------|--------|---------|
| 採用 | [例：PH-002] | [例：検証した技術を本実装に組み込み] |
| 不採用 | [例：foundation.md] | [例：採用しなかった選択肢に追記] |

### 対象スパイク一覧

#### 1. [スパイク名]
- **ID**: SP-YYYYMMDD-001
- **検証期間**: [例：3日間]
- **期待される成果**: [成果]

**検証内容**:
[概要]

**成功基準**:
- [基準1]
- [基準2]

#### 2. [スパイク名]
- **ID**: SP-YYYYMMDD-002
- **検証期間**: [例：2日間]
- **期待される成果**: [成果]

**検証内容**:
[概要]

**成功基準**:
- [基準1]
- [基準2]

### 注意事項

- 本番コードへの直接取り込みを前提としない実験コードを含んでもよい
- 検証結果は必ず foundation.md または phases.md にフィードバックする
- 検証が長引く場合は、スコープを縮小して結論を出すことを優先する

---

## 更新履歴

| 日付 | 変更内容 | 変更者 |
|------|---------|--------|
| YYYY-MM-DD | 初版作成 | [担当者] |
