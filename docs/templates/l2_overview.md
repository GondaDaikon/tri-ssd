---
id: L2-OVERVIEW
kind: overview
layer: L2
title: "[プロダクト名] 機能設計・技術方針"
status: active
doc_status: draft
req_ids:
  - REQ-0001
---

# [プロダクト名] 機能設計・技術方針

## 1. ドキュメントの立ち位置

### 1.1 目的

本書は、L1 の要求を満たすための機能構成・技術方針の正本である。

### 1.2 粒度

- コードレベルには踏み込まないが、API やモジュール単位までは言及しうる
- 詳細な実装は L3（機能ドキュメント）に委ねる

---

## 2. L1 の要約とトレーサビリティ方針

### 2.1 主要な要求サマリ

| REQ ID | 要求名 | 概要 |
|--------|--------|------|
| REQ-0001 | [要求名] | [概要] |
| REQ-0002 | [要求名] | [概要] |

### 2.2 トレーサビリティルール

- 各機能（F-xxxx）のフロントマターに `req_ids` として対応する REQ を記載
- 各フェーズ（PH-xxxx）のフロントマターに `related_nfr_ids` として適用 NF を記載

---

## 3. 用語集

| 用語 | 定義 | 出典 |
|------|------|------|
| [用語1] | [定義] | [REQ-xxxx / 業務資料名] |
| [用語2] | [定義] | [REQ-xxxx / 業務資料名] |
| [用語3] | [定義] | [REQ-xxxx / 業務資料名] |

---

## 4. 技術スタック・技術方針

### 4.1 クライアント側

| 項目 | 選定技術 | 理由 |
|------|---------|------|
| フレームワーク | [例：React] | [選定理由] |
| 状態管理 | [例：Zustand] | [選定理由] |
| UI ライブラリ | [例：Tailwind CSS] | [選定理由] |

### 4.2 サーバ側

| 項目 | 選定技術 | 理由 |
|------|---------|------|
| 言語 | [例：TypeScript] | [選定理由] |
| フレームワーク | [例：Express] | [選定理由] |
| ORM | [例：Prisma] | [選定理由] |

### 4.3 インフラ・その他

| 項目 | 選定技術 | 理由 |
|------|---------|------|
| DB | [例：PostgreSQL] | [選定理由] |
| インフラ | [例：AWS] | [選定理由] |
| CI/CD | [例：GitHub Actions] | [選定理由] |

### 4.4 採用しなかった選択肢

| 候補 | 不採用理由 |
|------|-----------|
| [候補技術1] | [理由] |
| [候補技術2] | [理由] |

### 4.5 ADR（Architectural Decision Record）

重要な設計判断は別途 ADR として記録する場合、以下にリンクを記載：

- [ADR-001: xxx の選定](./adr/ADR-001.md)

---

## 5. 全体アーキテクチャ

### 5.1 コンポーネント構成

```
┌─────────────┐     ┌─────────────┐     ┌─────────────┐
│   Client    │────▶│   Server    │────▶│  Database   │
│  (Browser)  │     │   (API)     │     │             │
└─────────────┘     └─────────────┘     └─────────────┘
```

### 5.2 レイヤ構造

| レイヤ | 役割 | 主なコンポーネント |
|--------|------|-------------------|
| UI | ユーザーインターフェース | [コンポーネント名] |
| Application | ユースケース制御 | [サービス名] |
| Domain | ビジネスロジック | [エンティティ名] |
| Infrastructure | 外部システム連携 | [リポジトリ名] |

### 5.3 モジュール間の依存関係

- [モジュールA] → [モジュールB]：[依存の理由]
- [モジュールB] → [モジュールC]：[依存の理由]

---

## 6. 機能一覧（全体俯瞰用）

| 機能ID | 機能名 | 対応REQ | フェーズ | 依存 | ステータス |
|--------|--------|---------|---------|------|-----------|
| F-0001 | [機能名] | REQ-0001 | PH-0001 | - | 未着手 |
| F-0002 | [機能名] | REQ-0001, REQ-0002 | PH-0001 | F-0001 | 未着手 |
| F-0003 | [機能名] | REQ-0002 | PH-0002 | F-0001, F-0002 | 未着手 |

---

## 7. 非機能要求カタログ

| NF ID | 名称 | 説明 | 適用範囲 | テスト方法 |
|-------|------|------|---------|-----------|
| NF-0001 | [名称] | [説明] | [全機能 / 特定フェーズ] | [テスト方法へのリンク] |
| NF-0002 | [名称] | [説明] | [全機能 / 特定フェーズ] | [テスト方法へのリンク] |

---

## 8. 更新・変更管理

### 8.1 L1 からの変更要求対応

1. L1 の変更内容を確認
2. 本ドキュメントへの影響を AI で分析
3. 影響箇所を更新し、レビューを依頼

### 8.2 L3 / 実装からのフィードバック

1. L3 または実装で発覚した問題を確認
2. 本ドキュメントへの反映が必要か判断
3. 必要な場合は該当箇所を更新

### 8.3 技術スタック変更時の合意フロー

1. 変更理由と影響範囲を明確化
2. アーキテクト／テックリードがレビュー
3. 重要な変更は PO にも共有
